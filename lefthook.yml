pre-commit:
  parallel: true
  commands:
    rubocop:
      tags: backend style
      glob: "*.rb"
      exclude: "application.rb|routes.rb"
      run: bundle exec rubocop --force-exclusion {all_files}
    rspec:
      tags: rspec backend
      run: bundle exec rspec --fail-fast
    fasterer:
      run: bundle exec fasterer
    database:
      piped: true
      commands:
        create:
          run: rails db:create
